#N canvas 294 122 1043 580 10;
#X text 18 6 Control a number box (or other graphical control) by sending it "set" messages whenever the value changes. If the value change is ramped \, the control imitates the ramp but only updates 10 times a second.;
#X obj 28 324 r \$1-grab;
#X obj 28 394 pack s 0;
#X obj 28 346 t a b;
#X obj 339 334 v \$0-last;
#X msg 339 358 set \$1;
#X obj 262 385 change;
#X obj 60 368 v \$0-last;
#X obj 262 356 v \$0-last;
#X obj 262 484 pack 0 s s;
#X obj 262 437 t f b b;
#X obj 290 461 symbol \$1;
#X obj 383 286 r grab-all-init;
#X obj 275 310 r grab-all-rest;
#X obj 262 332 b;
#X obj 363 483 symbol;
#X obj 383 310 t b;
#X obj 363 460 r grab-all-target;
#X obj 262 286 r grab-all-get-\$1;
#X obj 587 270 r reset;
#X text 425 2 Args:;
#X text 445 19 \$1 name of parameter;
#X text 445 34 \$2 reset value;
#X obj 614 339 s \$1;
#X obj 403 343 r grab-setallchanged;
#X msg 402 368 set 1e+20;
#X msg 787 208 set \$1;
#X obj 711 128 line 0 100;
#X obj 775 81 r \$1;
#X obj 787 231 s \$1-set;
#X obj 711 155 v \$0-last;
#X obj 775 104 t l f;
#X obj 780 153 sel;
#X obj 787 180 f;
#X obj 818 156 + 0.5;
#X obj 818 181 int;
#X obj 587 293 t b b;
#X obj 262 411 spigot 1;
#X text 15 68 Sending a symbol to grab-all-target sets the destination for a selective grab. Only values that change since the most recent "grab-all-init" get reported. Banging grab-all-get-\$1 reports any change in this particular parameter. Then bang grab-all-next to get anything that wasn't asked for by name. This is designed to work wiht the parameter grabbing feature of the nul patch and its derivatives.;
#X text 14 171 Sending "1 <name>" to auto-register-\$1 informs us that we're under external control by an automat named <name> (and "0" clears it). This can be used to prevent automated parameters from being "grabbed". If a conflicting one comes in we print a warning message.;
#X obj 763 259 r auto-register-\$1;
#X obj 768 374 spigot;
#X symbolatom 882 343 20 0 0 0 - - - 0;
#X msg 766 310 0;
#X obj 742 373 f;
#X obj 802 310 t b s s;
#X msg 767 337 1;
#X msg 882 319 symbol -;
#X obj 881 295 loadbang;
#X obj 771 400 pack s s;
#X obj 771 461 print genctl(\$1);
#X obj 764 283 sel -;
#X obj 731 396 == 0;
#X text 444 49 \$3 reset value;
#X text 446 66 \$4 reset value;
#X text 446 81 \$5 reset value;
#X msg 262 506 \; \$6 list \$2 \$3 \$4 \$5 \$1;
#X msg 771 423 control by '\$1' overriddes '\$2 \$3 \$4 \$5', f 24;
#X obj 614 319 list \$2 \$3 \$4 \$5;
#X msg 28 416 \; \$1 \$2 \$3 \$4 \$5;
#X connect 1 0 3 0;
#X connect 2 0 59 0;
#X connect 3 0 2 0;
#X connect 3 1 7 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 37 0;
#X connect 7 0 2 1;
#X connect 8 0 6 0;
#X connect 9 0 56 0;
#X connect 10 0 9 0;
#X connect 10 1 11 0;
#X connect 11 0 9 1;
#X connect 12 0 16 0;
#X connect 13 0 14 0;
#X connect 14 0 8 0;
#X connect 15 0 9 2;
#X connect 16 0 4 0;
#X connect 17 0 15 0;
#X connect 18 0 14 0;
#X connect 19 0 36 0;
#X connect 24 0 25 0;
#X connect 25 0 6 0;
#X connect 26 0 29 0;
#X connect 27 0 30 0;
#X connect 27 0 32 0;
#X connect 28 0 31 0;
#X connect 31 0 27 0;
#X connect 31 1 32 1;
#X connect 31 1 33 1;
#X connect 32 0 33 0;
#X connect 32 1 34 0;
#X connect 33 0 26 0;
#X connect 34 0 35 0;
#X connect 35 0 26 0;
#X connect 36 0 16 0;
#X connect 36 1 58 0;
#X connect 37 0 10 0;
#X connect 40 0 51 0;
#X connect 41 0 49 0;
#X connect 43 0 44 0;
#X connect 44 0 41 1;
#X connect 44 0 52 0;
#X connect 45 0 46 0;
#X connect 45 1 42 0;
#X connect 45 1 49 1;
#X connect 45 2 41 0;
#X connect 46 0 44 0;
#X connect 47 0 42 0;
#X connect 48 0 47 0;
#X connect 49 0 57 0;
#X connect 51 0 43 0;
#X connect 51 0 47 0;
#X connect 51 1 45 0;
#X connect 52 0 37 1;
#X connect 57 0 50 0;
#X connect 58 0 23 0;
